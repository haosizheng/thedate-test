(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[835],{8883:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/claim",function(){return n(3535)}])},3535:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(4776),a=n.n(r),i=n(2322),c=n(2695),u=n(8258),o=n(4107),s=n(263),d=n(8297),l=n(3710),f=n(2784);var m=n(5538),h=n(9034),y=n.n(h),x=n(3137),v=n(3003),p=n(1616),g=n(711);function b(e,t,n,r,a,i,c){try{var u=e[i](c),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){b(i,r,a,c,u,"next",e)}function u(e){b(i,r,a,c,u,"throw",e)}c(void 0)}))}}function D(){var e,t=(0,v.Ge)(),n=t.account,r=t.activate,h=(0,l.Z)().chainId,b=(0,s.Z)(),D=function(){var e=(0,l.Z)(),t=e.library,n=e.account,r=e.chainId;return(0,f.useMemo)((function(){var e=1===r?"0xFF9C1b15B16263C61d017ee9F65C50e4AE0113D7":4===r?"0x79e2d470f950f2cf78eef41720e8ff2cf4b3cd78":void 0;return t&&r&&e?d.my.connect(e,n?t.getSigner(n).connectUnchecked():t):void 0}),[t,n,r])}(),j=(0,f.useState)(void 0),M=j[0],N=j[1],k=(0,f.useState)(void 0),w=k[0],C=k[1],S=(0,f.useState)(void 0),_=(S[0],S[1]),Z=(0,f.useState)([]),H=Z[0],F=(Z[1],(0,f.useState)("")),A=F[0],P=F[1],O=(0,f.useRef)((0,i.jsx)(i.Fragment,{})),Y=(0,u.oZ)("Token",[h,null===b||void 0===b?void 0:b.address]);return(0,m.Z)(T(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.t0=C,e.next=5,null===b||void 0===b?void 0:b.getCurrentAuctionTokenId();case 5:return e.t1=e.sent.toNumber(),(0,e.t0)(e.t1),e.t2=_,e.next=10,null===b||void 0===b?void 0:b.totalSupply();case 10:e.t3=e.sent.toNumber(),(0,e.t2)(e.t3);case 12:case"end":return e.stop()}}),e)}))),[b]),(0,m.Z)(T(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n&&null!==n&&D){e.next=2;break}return e.abrupt("return");case 2:return e.t0=N,e.next=5,D.balanceOf(n);case 5:e.t1=e.sent.gt(0),(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)}))),[n,D]),(0,m.Z)(T(a().mark((function e(){var t,c,u,s,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==A&&b&&w){e.next=2;break}return e.abrupt("return");case 2:if(""===A&&(O.current=(0,i.jsx)(i.Fragment,{})),t=y()(A,"YYYY-MM-DD",!0),A.match(/^\d{4}[\-]\d{2}[\-]\d{2}$/)){e.next=9;break}return O.current=(0,i.jsx)("span",{className:"text-xs",children:'The Date should be in format "yyyy-mm-dd", e.g. 2021-09-12'}),e.abrupt("return");case 9:if(t.isValid()){e.next=12;break}return O.current=(0,i.jsx)("span",{className:"text-xs",children:"Invalid date"}),e.abrupt("return");case 12:if(!(0<=(c=(0,o.fB)(A))&&c<w)){e.next=25;break}return u=(0,o.tQ)(c),O.current=(0,i.jsx)("span",{className:"text-xs",children:"Checking if ".concat(u," (Token #").concat(c,") is available...")}),e.next=18,null===b||void 0===b?void 0:b.available(c);case 18:return s=e.sent,e.next=21,null===b||void 0===b?void 0:b.claimingPrice();case 21:d=e.sent,O.current=s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"text-xs",children:["".concat(u," (Token #").concat(c,")")," is available. "]}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),n?(0,i.jsx)("span",{children:(0,i.jsxs)("button",{className:"text-neutral-focus hover:underline",onClick:T(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===b||void 0===b?void 0:b.claim(c,{value:M?g._Y:d});case 2:case"end":return e.stop()}}),e)}))),children:["Click here to claim ","".concat(u," (Token #").concat(c,")")," ",M?" at \u039e0.00 because you are Loot owner.":" at \u039e0.01","  "]})}):(0,i.jsxs)("span",{className:"wallet",children:[(0,i.jsx)("button",{onClick:function(){r(x.Lj)},children:"Connect your Metamask"})," before claiming. "]})]}):(0,i.jsx)("span",{className:"text-xs",children:"".concat(u," (Token #").concat(c,") is unavailable.")}),e.next=26;break;case 25:O.current=(0,i.jsx)("span",{className:"text-xs",children:"Wrong date range. It should be from 1970-01-01 to ".concat((0,o.tQ)(w),".")});case 26:case"end":return e.stop()}}),e)}))),[b,D,A,w]),(0,i.jsx)(c.Z,{children:(0,i.jsxs)("div",{className:"content",children:[(0,i.jsxs)("div",{className:"content_item",children:[(0,i.jsx)("h3",{children:"Claim The Date"}),(0,i.jsxs)("p",{children:["You could claim The Date of past via calling ",(e="claim(tokenId)",(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(Y,"#writeContract"),children:(0,i.jsx)("i",{children:"".concat(e)})}))," in the contract at ",function(e){return(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(Y,"#readContract"),children:(0,i.jsx)("i",{children:"".concat(e)})})}("claimingPrice")," \u039e0.01. Loot holders are free to claim."]}),(0,i.jsx)("h3",{children:"Check availability"}),(0,i.jsxs)("p",{children:["Since ",(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://en.wikipedia.org/wiki/Unix_time",children:"Unix Epoch"}),", only one The Date NFT a day is availabile."," ",void 0!==w&&(0,i.jsxs)(i.Fragment,{children:["The earliest one was ",(0,i.jsx)("b",{children:(0,o.tQ)(0)})," (Token #0). The latest one (Today) is ",(0,i.jsx)("b",{children:(0,o.tQ)(w)})," (Token #",w,")."]})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("label",{children:"Check if the Date you want is available: "}),(0,i.jsx)("input",{autoFocus:!0,className:"user-input w-32",placeholder:"",type:"text",onChange:function(e){P(e.target.value)}}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:O.current})]})]}),H.length>0&&(0,i.jsxs)("div",{className:"content_item pt-10",children:[(0,i.jsx)("h3",{children:"History of Claiming"}),(0,i.jsxs)("table",{className:"text-xs text-left mx-auto text-neutral-content",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"w-60 text-left",children:"Date"}),(0,i.jsx)("th",{className:"w-44 text-left",children:"Claimer"}),(0,i.jsx)("th",{className:"w-44 text-left",children:"Time"})]})}),(0,i.jsx)("tbody",{children:H.map((function(e,t){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,u.dl)("Asset",h,p.S.contract_address,e.tokenId),children:"".concat((0,o.tQ)(e.tokenId)," (Token #").concat(e.tokenId,")")})}),(0,i.jsx)("td",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,u.oZ)("Account",[h,e.owner]),children:(0,u.pm)(e.owner)})}),(0,i.jsx)("td",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,u.oZ)("Transaction",[h,e.transactionHash]),children:(0,o.xe)(e.timestamp)})})]},t)}))})]})]})]})})}},4107:function(e,t,n){"use strict";n.d(t,{K5:function(){return a},xe:function(){return i},fB:function(){return c},nv:function(){return u},tQ:function(){return o}});var r=n(1280),a=86400;function i(e){return(0,r.ZP)(new Date(1e3*e),"UTC:mmm d yyyy HH:MM:ss Z")}function c(e){return Math.floor(new Date(e).valueOf()/a/1e3)}function u(e){return(0,r.ZP)(new Date(e*a*1e3),"mmm d yyyy").toUpperCase()}function o(e){return(0,r.ZP)(new Date(e*a*1e3),"yyyy-mm-dd")}},5538:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(2784);var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.create;Object.create;function i(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var i=(0,r.useRef)(0),c=function(){var e=(0,r.useRef)(!1),t=(0,r.useCallback)((function(){return e.current}),[]);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),u=(0,r.useState)(n),o=u[0],s=u[1],d=(0,r.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++i.current;return o.loading||s((function(e){return a(a({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return c()&&r===i.current&&s({value:e,loading:!1}),e}),(function(e){return c()&&r===i.current&&s({error:e,loading:!1}),e}))}),t);return[o,d]}function c(e,t){void 0===t&&(t=[]);var n=i(e,t,{loading:!0}),a=n[0],c=n[1];return(0,r.useEffect)((function(){c()}),[c]),a}},1280:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c}});var r=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,a=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,i=/[^-+\dA-Z]/g;function c(e,t,n,a){if(1!==arguments.length||"string"!==typeof e||/\d/.test(e)||(t=e,e=void 0),(e=e||0===e?e:new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i=(t=String(u[t]||t||u.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(t=t.slice(4),n=!0,"GMT:"===i&&(a=!0));var c=function(){return n?"getUTC":"get"},h=function(){return e[c()+"Date"]()},y=function(){return e[c()+"Day"]()},x=function(){return e[c()+"Month"]()},v=function(){return e[c()+"FullYear"]()},p=function(){return e[c()+"Hours"]()},g=function(){return e[c()+"Minutes"]()},b=function(){return e[c()+"Seconds"]()},T=function(){return e[c()+"Milliseconds"]()},D=function(){return n?0:e.getTimezoneOffset()},j=function(){return l(e)},M=function(){return f(e)},N={d:function(){return h()},dd:function(){return s(h())},ddd:function(){return o.dayNames[y()]},DDD:function(){return d({y:v(),m:x(),d:h(),_:c(),dayName:o.dayNames[y()],short:!0})},dddd:function(){return o.dayNames[y()+7]},DDDD:function(){return d({y:v(),m:x(),d:h(),_:c(),dayName:o.dayNames[y()+7]})},m:function(){return x()+1},mm:function(){return s(x()+1)},mmm:function(){return o.monthNames[x()]},mmmm:function(){return o.monthNames[x()+12]},yy:function(){return String(v()).slice(2)},yyyy:function(){return s(v(),4)},h:function(){return p()%12||12},hh:function(){return s(p()%12||12)},H:function(){return p()},HH:function(){return s(p())},M:function(){return g()},MM:function(){return s(g())},s:function(){return b()},ss:function(){return s(b())},l:function(){return s(T(),3)},L:function(){return s(Math.floor(T()/10))},t:function(){return p()<12?o.timeNames[0]:o.timeNames[1]},tt:function(){return p()<12?o.timeNames[2]:o.timeNames[3]},T:function(){return p()<12?o.timeNames[4]:o.timeNames[5]},TT:function(){return p()<12?o.timeNames[6]:o.timeNames[7]},Z:function(){return a?"GMT":n?"UTC":m(e)},o:function(){return(D()>0?"-":"+")+s(100*Math.floor(Math.abs(D())/60)+Math.abs(D())%60,4)},p:function(){return(D()>0?"-":"+")+s(Math.floor(Math.abs(D())/60),2)+":"+s(Math.floor(Math.abs(D())%60),2)},S:function(){return["th","st","nd","rd"][h()%10>3?0:(h()%100-h()%10!=10)*h()%10]},W:function(){return j()},WW:function(){return s(j())},N:function(){return M()}};return t.replace(r,(function(e){return e in N?N[e]():e.slice(1,e.length-1)}))}var u={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return String(e).padStart(t,"0")},d=function(e){var t=e.y,n=e.m,r=e.d,a=e._,i=e.dayName,c=e.short,u=void 0!==c&&c,o=new Date,s=new Date;s.setDate(s[a+"Date"]()-1);var d=new Date;d.setDate(d[a+"Date"]()+1);return o[a+"FullYear"]()===t&&o[a+"Month"]()===n&&o[a+"Date"]()===r?u?"Tdy":"Today":s[a+"FullYear"]()===t&&s[a+"Month"]()===n&&s[a+"Date"]()===r?u?"Ysd":"Yesterday":d[a+"FullYear"]()===t&&d[a+"Month"]()===n&&d[a+"Date"]()===r?u?"Tmw":"Tomorrow":i},l=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var a=(t-n)/6048e5;return 1+Math.floor(a)},f=function(e){var t=e.getDay();return 0===t&&(t=7),t},m=function(e){return(String(e).match(a)||[""]).pop().replace(i,"").replace(/GMT\+0000/g,"UTC")}}},function(e){e.O(0,[661,106,171,695,263,774,888,179],(function(){return t=8883,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[836],{3127:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auction",function(){return n(2559)}])},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2322);function s(e){var t=e.dateString,n=e.noteString;return(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 500 500",children:[(0,r.jsx)("rect",{width:"100%",height:"100%",fill:"black"}),(0,r.jsx)("text",{x:"50%",y:"50%",fontSize:"50px",fill:"white",fontFamily:"monospace",dominantBaseline:"middle",textAnchor:"middle",children:t}),n&&(0,r.jsx)("text",{x:"50%",y:"90%",fontSize:"10px",fill:"white",fontFamily:"monospace",dominantBaseline:"middle",textAnchor:"middle",children:n})]})}},2559:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var r=n(4776),s=n.n(r),a=n(2322),i=n(413),c=n(3710),o=n(263),l=n(8258),u=n(4107),d=n(711),h=n(7962),m=n(2784),x=n(1298),f=n(5538),p=n(1616),b=n(2695),j=n(3003),v=n(3137);function g(e,t,n,r,s,a,i){try{var c=e[a](i),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(r,s)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){g(a,r,s,i,c,"next",e)}function c(e){g(a,r,s,i,c,"throw",e)}i(void 0)}))}}function k(){var e=(0,j.Ge)(),t=e.account,n=e.activate,r=(0,c.Z)(),g=r.library,k=r.chainId,N=(r.error,(0,o.Z)()),y=(0,m.useState)(void 0),_=y[0],F=y[1],S=(0,m.useState)(void 0),T=(S[0],S[1],(0,m.useState)(d._Y)),P=T[0],Z=T[1],B=(0,m.useState)(void 0),C=(B[0],B[1]),H=(0,m.useState)(void 0),I=H[0],A=H[1],D=(0,m.useState)(void 0),M=D[0],E=D[1],Q=(0,m.useState)(void 0),q=(Q[0],Q[1]),O=(0,m.useState)([]),R=O[0],Y=O[1],z=(0,m.useState)([]),K=z[0],L=z[1],U=(0,m.useState)(""),X=U[0],G=U[1],W=(0,m.useRef)((0,a.jsx)(a.Fragment,{}));return(0,f.Z)(w(s().mark((function e(){var t,n,r,a,i,c,o,l,u,d,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g&&N){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,N.reservePrice();case 5:return t=e.sent,e.next=8,N.minBidIncrementBps();case 8:return n=e.sent,e.next=11,N.getCurrentMinimumBid();case 11:return r=e.sent,e.next=14,N.getCurrentAuctionTokenId();case 14:return a=e.sent.toNumber(),q(n),E(t),Z(r),F(a),e.next=21,N.getHighestBid(a);case 21:return i=e.sent,c=i.bidder,o=i.amount,A(o),C(c),l=N.filters.BidPlaced(a,null,null),e.t0=Promise,e.next=30,N.queryFilter(l);case 30:return e.t1=e.sent.map(function(){var e=w(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.args.tokenId.toNumber(),e.t1=t.args.bidder,e.t2=t.args.amount,e.t3=t.transactionHash,e.t4=t.blockNumber,e.next=7,t.getBlock();case 7:return e.t5=e.sent.timestamp,e.abrupt("return",{tokenId:e.t0,bidder:e.t1,amount:e.t2,transactionHash:e.t3,blockNumber:e.t4,timestamp:e.t5});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=33,e.t0.all.call(e.t0,e.t1);case 33:return(u=e.sent).sort((function(e,t){return t.blockNumber-e.blockNumber})),Y(u),d=N.filters.AuctionSettled(null,null,null),e.t2=Promise,e.next=40,N.queryFilter(d);case 40:return e.t3=e.sent.map(function(){var e=w(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.args.tokenId.toNumber(),e.t1=t.args.winner,e.t2=t.args.amount,e.t3=t.transactionHash,e.t4=t.blockNumber,e.next=7,t.getBlock();case 7:return e.t5=e.sent.timestamp,e.abrupt("return",{tokenId:e.t0,bidder:e.t1,amount:e.t2,transactionHash:e.t3,blockNumber:e.t4,timestamp:e.t5});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=43,e.t2.all.call(e.t2,e.t3);case 43:(h=e.sent).sort((function(e,t){return t.blockNumber-e.blockNumber})),L(h),e.next=52;break;case 48:throw e.prev=48,e.t4=e.catch(2),console.log(e.t4),e.t4;case 52:case"end":return e.stop()}}),e,null,[[2,48]])}))),[g,N]),(0,f.Z)(w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==X&&void 0!==_&&N&&P){e.next=2;break}return e.abrupt("return");case 2:if(""===X&&(W.current=(0,a.jsx)(a.Fragment,{})),X.match(/^\d+(\.\d+)?$/)&&!isNaN(Number.parseFloat(X))&&!h.fi(X).lt(P)){e.next=6;break}return W.current=(0,a.jsxs)("span",{className:"text-xs",children:["The price should be a number more than ",(0,l.am)(P)]}),e.abrupt("return");case 6:W.current=(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsxs)("button",{className:"text-neutral-focus hover:underline",onClick:w(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null===N||void 0===N||N.placeBid({value:X?h.fi(X):P});case 1:case"end":return e.stop()}}),e)}))),children:["Click here to place your bid for ","".concat((0,u.tQ)(_)," (Token #").concat(_,")")]})]}):(0,a.jsxs)("span",{className:"wallet",children:[(0,a.jsx)("br",{}),(0,a.jsx)("button",{onClick:function(){n(v.Lj)},children:"Connect your Metamask"})," before bidding. "]})});case 7:case"end":return e.stop()}}),e)}))),[N,X,P,_]),(0,a.jsx)(b.Z,{children:void 0==_||0==_?(0,a.jsx)("div",{className:"content",children:(0,a.jsx)("p",{className:"text-center",children:"Loading..."})}):(0,a.jsxs)("div",{className:"content",children:[(0,a.jsx)("figure",{className:"animate-pulse",children:(0,a.jsx)(i.Z,{dateString:(0,u.tQ)(_),noteString:"(to be engraved by the note owner)"})}),(0,a.jsxs)("div",{className:"content_item",children:[(0,a.jsxs)("p",{className:"pb-10",children:['The Date of Today "',(0,a.jsx)("span",{className:"text-neutral-base",children:(0,u.tQ)(_)}),'" (Token #',_,") is available to be auctioned and minted into Ethereum network immutably in remaining "," ",(0,a.jsx)("span",{className:"text-neutral-base",children:(0,a.jsx)(x.ZP,{intervalDelay:1e3,date:new Date((_+1)*u.K5*1e3),renderer:function(e){var t=e.formatted;return e.completed?(0,a.jsx)("span",{children:"00:00:00"}):(0,a.jsxs)("span",{children:[t.hours,":",t.minutes,":",t.seconds]})}})}),". The winner will own The Date of Today."]}),(0,a.jsx)("h3",{children:"Place your bid"}),(0,a.jsxs)("p",{children:[0==R.length?(0,a.jsxs)(a.Fragment,{children:[" No bid is placed yet.",!!M&&(0,a.jsxs)(a.Fragment,{children:[" Reserve Price is \u039e",(0,l.am)(M),". "]})]}):(0,a.jsxs)(a.Fragment,{children:[!!I&&(0,a.jsxs)(a.Fragment,{children:["Current highest bid is \u039e",(0,l.am)(I),". "]}),!!P&&(0,a.jsxs)(a.Fragment,{children:["Bidding ",(0,a.jsxs)("span",{className:"text-neutral-base",children:["\u039e",(0,l.am)(P)]})," or more is required. "]})]}),(0,a.jsx)("br",{}),(0,a.jsx)("label",{children:"Your bidding price: \u039e "}),(0,a.jsx)("input",{autoFocus:!0,className:"user-input w-32",placeholder:P?(0,l.am)(P):"",type:"text",onChange:function(e){G(e.target.value)}}),(0,a.jsx)("br",{}),W.current]})]}),R.length>0&&(0,a.jsxs)("div",{className:"content_item pt-10",children:[(0,a.jsxs)("h3",{children:['Bidding History for Today "',(0,u.tQ)(_),'":']}),(0,a.jsxs)("table",{className:"text-xs text-left mx-auto text-neutral-content",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-60 text-left",children:"Time"}),(0,a.jsx)("th",{className:"w-44 text-left",children:"From"}),(0,a.jsx)("th",{className:"w-44 text-left",children:"Bid"})]})}),(0,a.jsx)("tbody",{children:R.map((function(e,n){return(0,a.jsxs)("tr",{className:n>0?"line-through":"",children:[(0,a.jsx)("td",{children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,l.oZ)("Transaction",[k,e.transactionHash]),children:(0,u.xe)(e.timestamp)})}),(0,a.jsx)("td",{children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(0,l.oZ)("Account",[k,e.bidder]),children:[(0,l.pm)(e.bidder)," ",t===e.bidder&&(0,a.jsx)(a.Fragment,{children:" (you)"})]})}),(0,a.jsxs)("td",{children:["\u039e",(0,l.am)(e.amount)]})]},n)}))})]})]}),K.length>0&&(0,a.jsxs)("div",{className:"content_item pt-10",children:[(0,a.jsx)("h3",{children:"History for Past Auctions"}),(0,a.jsxs)("table",{className:"text-xs text-left mx-auto text-neutral-content",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"w-60 text-left",children:"Date"}),(0,a.jsx)("th",{className:"w-44 text-left",children:"Winner"}),(0,a.jsx)("th",{className:"w-44 text-left",children:"Price"})]})}),(0,a.jsx)("tbody",{children:K.map((function(e,n){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:(0,l.dl)("Asset",k,p.S.contract_address,e.tokenId),children:"".concat((0,u.tQ)(e.tokenId)," (Token #").concat(e.tokenId,")")})}),(0,a.jsx)("td",{children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(0,l.oZ)("Account",[k,e.bidder]),children:[(0,l.pm)(e.bidder)," ",t===e.bidder&&(0,a.jsx)(a.Fragment,{children:" (you)"})]})}),(0,a.jsx)("td",{children:(0,a.jsxs)("a",{target:"_blank",rel:"noreferrer",href:(0,l.oZ)("Transaction",[k,e.transactionHash]),children:["\u039e",(0,l.am)(e.amount)]})})]},n)}))})]})]})]})})}},4107:function(e,t,n){"use strict";n.d(t,{K5:function(){return s},xe:function(){return a},fB:function(){return i},nv:function(){return c},tQ:function(){return o}});var r=n(1280),s=86400;function a(e){return(0,r.ZP)(new Date(1e3*e),"UTC:mmm d yyyy HH:MM:ss Z")}function i(e){return Math.floor(new Date(e).valueOf()/s/1e3)}function c(e){return(0,r.ZP)(new Date(e*s*1e3),"mmm d yyyy").toUpperCase()}function o(e){return(0,r.ZP)(new Date(e*s*1e3),"yyyy-mm-dd")}}},function(e){e.O(0,[106,171,969,695,263,774,888,179],(function(){return t=3127,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
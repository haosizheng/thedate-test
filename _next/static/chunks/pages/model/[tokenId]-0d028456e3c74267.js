(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{5486:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/model/[tokenId]",function(){return e(2079)}])},7327:function(t,n,e){"use strict";e.d(n,{Z:function(){return x}});var r=e(2322),o=e(4107),i=e(6838),a=e(7934),u=e(5125),s=e(2947),c=e(2784),l=e(6995),f=e(3163);function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function h(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function m(t){for(var n=arguments,e=function(e){var r=null!=n[e]?n[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),o.forEach((function(n){h(t,n,r[n])}))},r=1;r<arguments.length;r++)e(r);return t}function g(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i=[],a=!0,u=!1;try{for(e=e.call(t);!(a=(r=e.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(s){u=!0,o=s}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}}(t,n)||function(t,n){if(!t)return;if("string"===typeof t)return d(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=document.createElement("canvas"),a=i.getContext("2d");i.width=4096,i.height=4096,a.imageSmoothingEnabled=!0,a.rect(0,0,i.width,i.height),a.fillStyle=e,a.textAlign="center",a.fill();var u=(0,s.U2)(l.ImageLoader,"/noise-medium3.png");o&&(a.drawImage(u,0,0,i.width/2,i.height/2),a.drawImage(u,i.width/2,0,i.width/2,i.height/2),a.drawImage(u,0,i.height/2,i.width/2,i.height/2),a.drawImage(u,i.width/2,i.height/2,i.width/2,i.height/2)),a.fillStyle=r,a.font="200px Roboto Mono",a.fillText(t,1800,1840),a.font="54px Roboto Mono",a.fillText(n,1800,3960),a.font="54px Roboto Mono",a.fillText("THE DATE",1800,2440);var c=new l.CanvasTexture(i);return c}function v(t){var n=t.dateString,e=t.noteString,o=void 0===e?"":e,a=(0,i.L)("/cube.glb"),u=p(n,o,"#ffffff","#D1D1D1"),s=p(n,o,"#ffffff","#000000",!0),c={clearcoat:.1,clearcoatRoughness:.3,metalness:.5,roughness:.4,color:"white",map:u,metalMap:p(n,o,"#ffffff","#D1D1D1"),roughnessMap:s,normalMap:s,normalScale:new l.Vector2(.3,.3),"normalMap-wrapS":l.RepeatWrapping,"normalMap-wrapT":l.RepeatWrapping,"normalMap-repeat":[100,100],"normalMap-anisotropy":16,transmission:.6,transparent:!1};return(0,r.jsx)("group",{children:(0,r.jsx)("mesh",{geometry:a.nodes.Cube.geometry,scale:[1,1,1],rotation:[-Math.PI/2,0,0],children:(0,r.jsx)("meshPhysicalMaterial",m({},c,{side:l.FrontSide}))})})}function y(t){var n=t.background,e=void 0!==n&&n,r=(0,s.Ky)(),o=r.gl,i=r.scene,a=g((0,s.U2)(f.q,[["px.hdr","nx.hdr","py.hdr","ny.hdr","pz.hdr","nz.hdr"]],(function(t){t.setPath("/pisaHDR/"),t.setDataType(l.UnsignedByteType)})),1)[0];return(0,c.useEffect)((function(){var t=new l.PMREMGenerator(o);t.compileEquirectangularShader();var n=t.fromCubemap(a);return a.dispose(),t.dispose(),e&&(i.background=n.texture),i.environment=n.texture,function(){i.environment=i.background=null}}),[a]),null}function x(t){var n=t.tokenId,e=t.noteString,i=void 0===e?"":e,l=t.autoRotate,f=void 0===l||l,d=t.fov,h=void 0===d?20:d,m=(0,c.useState)(!1);m[0],m[1];return(0,r.jsxs)(s.Xz,{dpr:[1,2],shadows:!0,camera:{position:[0,0,10],fov:h},gl:{antialias:!0},children:[(0,r.jsx)("ambientLight",{intensity:.6}),(0,r.jsx)("directionalLight",{position:[2.5,3,3],intensity:.5}),(0,r.jsx)("directionalLight",{position:[1,16,2],intensity:.2}),(0,r.jsx)("directionalLight",{position:[15,20,15],intensity:.2}),(0,r.jsx)("directionalLight",{position:[15,-20,15],intensity:.2}),(0,r.jsx)("directionalLight",{position:[-1,10,-2],intensity:.1}),(0,r.jsxs)(c.Suspense,{fallback:(0,r.jsx)(a.V,{className:"hero text-xs",children:"Loading.."}),children:[(0,r.jsx)(y,{}),(0,r.jsx)(v,{dateString:(0,o.nv)(n),noteString:i||""})]}),(0,r.jsx)(u.z,{autoRotate:f,enablePan:!1,enableZoom:!1,minDistance:8,maxDistance:10,minPolarAngle:Math.PI/2-Math.PI/10,maxPolarAngle:Math.PI/2+Math.PI/10})]})}},2079:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return m}});var r=e(4776),o=e.n(r),i=e(2322),a=e(7327),u=e(2695),s=e(5632),c=e(263),l=e(3710),f=e(2784),d=e(5538);function h(t,n,e,r,o,i,a){try{var u=t[i](a),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(r,o)}function m(){var t,n=(0,s.useRouter)(),e=((0,l.Z)().chainId,(0,c.Z)()),r=n.query.tokenId,m="string"===typeof r?Number(r):void 0,g=(0,f.useState)(void 0),p=g[0],v=g[1],y=(0,f.useState)(void 0),x=y[0],b=y[1];return(0,d.Z)((t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&void 0!==m){t.next=2;break}return t.abrupt("return");case 2:return t.t0=v,t.next=5,null===e||void 0===e?void 0:e.exists(m);case 5:return t.t1=t.sent,(0,t.t0)(t.t1),t.t2=b,t.next=10,null===e||void 0===e?void 0:e.getNote(m);case 10:t.t3=t.sent,(0,t.t2)(t.t3);case 12:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){h(i,r,o,a,u,"next",t)}function u(t){h(i,r,o,a,u,"throw",t)}a(void 0)}))}),[e,m]),void 0===m||void 0===p?(0,i.jsx)(u.Z,{children:(0,i.jsx)("div",{className:"static absolute inset-0 bg-neutral font-mono text-center",children:"Loading..."})}):p?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"static absolute inset-0 bg-neutral font-mono",children:(0,i.jsx)(a.Z,{tokenId:m,noteString:x,autoRotate:!0,fov:35})})}):(0,i.jsx)(u.Z,{children:(0,i.jsx)("div",{className:"static absolute inset-0 bg-neutral font-mono text-center",children:"Error - Token ID does not exist."})})}},4107:function(t,n,e){"use strict";e.d(n,{K5:function(){return o},xe:function(){return i},fB:function(){return a},nv:function(){return u},tQ:function(){return s}});var r=e(1280),o=86400;function i(t){return(0,r.ZP)(new Date(1e3*t),"UTC:mmm d yyyy HH:MM:ss Z")}function a(t){return Math.floor(new Date(t).valueOf()/o/1e3)}function u(t){return(0,r.ZP)(new Date(t*o*1e3),"mmm d yyyy").toUpperCase()}function s(t){return(0,r.ZP)(new Date(t*o*1e3),"yyyy-mm-dd")}},5632:function(t,n,e){t.exports=e(3642)}},function(t){t.O(0,[546,106,171,599,695,263,774,888,179],(function(){return n=5486,t(t.s=n);var n}));var n=t.O();_N_E=n}]);